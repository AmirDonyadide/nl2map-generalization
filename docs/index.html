<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Map Generalization</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="app">
      <!-- Shared header for all screens -->
      <header class="site-header hero">
        <h1 class="hero-title">
          Map Comparison Task<br />
          <span class="hero-subtitle"
            >Describe how the right map was derived from the left one.</span
          >
        </h1>

        <p class="hero-description">
          This study is part of a Master's thesis investigating how people
          describe visible changes between two maps. You will see two versions
          of the same area and write a short text explaining how the second map
          was derived from the first. No prior GIS or mapping knowledge is
          required.
        </p>

        <div class="hero-info">
          <p><strong>Researcher:</strong> Amirhossein Donyadidegan</p>
          <p>
            <strong>Affilation:</strong> University of Bonn & Politecnico di
            Milano
          </p>
          <p>
            <strong>Supervisors:</strong> Prof. Dr. Jan-Henrik Haunert & Prof.
            Dr. Daniele Oxoli
          </p>
        </div>
      </header>

      <main class="site-main">
        <!-- ========== STEP 1: participant form ========== -->
        <section id="welcome" class="screen">
          <form id="entryForm" class="card">
            <p class="device-warning">
              <strong>Please use a laptop or desktop computer.</strong><br />
              Mobile screens may not display the differences between maps
              clearly.
            </p>
            <div class="row">
              <label
                >First name
                <input
                  id="firstName"
                  type="text"
                  autocomplete="given-name"
                  required
                />
              </label>
              <label
                >Last name
                <input
                  id="lastName"
                  type="text"
                  autocomplete="family-name"
                  required
                />
              </label>
            </div>
            <label
              >Access key
              <input
                id="token"
                type="text"
                placeholder="Enter the key you received"
                required
              />
            </label>

            <label class="check">
              <input id="consent" type="checkbox" required />
              <span>I agree to take part in this study.</span>
            </label>

            <button id="startForm" type="submit" class="primary">Start</button>
            <p class="help">
              Your name is only used to issue participation credit.
            </p>
          </form>
        </section>

        <!-- ========== STEP 2: instructions screen ========== -->
        <section id="instructions" class="screen hidden">
          <div class="card">
            <h2>Before You Begin</h2>
            <ol>
              <li>
                You will see <strong>two maps</strong> of the same area:<br />
                <em>Left = original</em>, <em>Right = generalized version</em>.
              </li>

              <li>
                Your task is to write <strong>a short text</strong> Which prompt
                you would have used to generate the generalized map based on the
                input.
              </li>

              <li>
                You do <strong>not</strong> need any mapping or GIS
                knowledge.<br />
                Simply describe what you notice <br />
                for example: “combine neighbour buildings”, “remove buildings
                smaller than 100 sqaured meters”, “simplify the outlines”.
              </li>

              <li>
                Keep your answer <strong>brief</strong> and focus on what
                changed.
              </li>
            </ol>

            <button id="begin" class="primary">Start the study</button>
          </div>
        </section>

        <!-- ========== STEP 3: trials (viewport-aware layout) ========== -->
        <section id="trial" class="hidden trial-layout">
          <!-- ===== Block 1: title + counter/progress ===== -->
          <div class="trial-top">
            <div class="trial-top-left">
              <h2 class="trial-title">Map Comparison Task</h2>
              <p class="trial-subtitle">
                Describe how the right map was derived from the left one.
              </p>
            </div>

            <div class="trial-top-right">
              <h3 id="counter"></h3>
              <div class="progress"><i id="progFill"></i></div>
            </div>
          </div>

          <!-- ===== Block 2: maps (left/right) ===== -->
          <div class="maps">
            <figure class="pane">
              <figcaption>
                <span class="badge">Input</span> Original map
              </figcaption>
              <img id="imgL" alt="Input map" />
            </figure>
            <figure class="pane">
              <figcaption>
                <span class="badge">Output</span> Generalized map
              </figcaption>
              <img id="imgR" alt="Generalized map" />
            </figure>
          </div>

          <!-- ===== Block 3: user prompt ===== -->
          <section class="answer">
            <label for="text">
              Which prompt would you have used to generate the generalized map
              based on the input?
            </label>

            <div class="answer-row">
              <textarea id="text" placeholder="Your Prompt"></textarea>
              <button id="submit" class="primary">
                <span id="submitLabel">Submit</span>
                <i id="submitSpin" class="spinner hidden"></i>
              </button>
            </div>
          </section>
        </section>

        <!-- ========== STEP 4: done ========== -->
        <section id="done" class="screen hidden">
          <div class="card center">
            <h3>Thank You!</h3>
            <p>Your responses have been saved. You may close this tab.</p>
          </div>
        </section>
      </main>
    </div>

    <script src="script.js"></script>
  </body>
</html>
